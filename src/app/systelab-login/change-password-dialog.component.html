<systelab-dialog-header (close)="close()">{{'COMMON_CHANGE_PASSWORD' | translate | async }}</systelab-dialog-header>
<div class="slab-change-password slab-flex-1">
    <form class="w-100 h-100 p-3" (keypress)="($event.which === 13 && isOK()) ? changePassword() : 0"
          autocomplete="off">


        <div class="row mt-1">
            <label for="form-h-it" class="col-md-5 col-form-label">{{ 'LOGIN_ENTER_OLDPASSWORD' |
                translate | async}}</label>
            <div class="col-md-7">
                <input autofocus class="form-control" [(ngModel)]="oldPassword" name="oldpassword"
                       type="password" id="form-h-it">
            </div>
        </div>

        <div class="row mt-1">
            <label for="form-h-ip" class="col-md-5 col-form-label">{{ 'LOGIN_ENTER_NEWPASSWORD'
                | translate | async}}</label>
            <div class="col-md-7">
                <input class="form-control" [(ngModel)]="newPassword" name="newpassword"
                       type="password" id="form-h-ip" (keyup)="checkPasswordStrength($event)">
            </div>
        </div>

        <div class="row mt-1">
            <label for="form-h-ir" class="col-md-5 col-form-label">{{ 'LOGIN_REPEAT_NEWPASSWORD'
                | translate | async}}</label>
            <div class="col-md-7">
                <input class="form-control" [(ngModel)]="repeatedPassword" name="repeatedPassword"
                       [class.is-invalid]="checkNewRepeatedPassword()"
                       type="password" id="form-h-ir">
            </div>
        </div>

        <div class="row mt-1">
            <div class="col-md-12 text-right">
                <i class="icon-info-circle mt-1 slab-info-icon">
                    <!--            <span class="tooltiptext">{{ getPasswordComplexityTooltip() }}</span>  -->
                </i>
            </div>
        </div>

        <div class="slab-password-strength mt-1 d-inline-block"
             [ngClass]="currentPasswordStrengthValue">
            <div class="d-inline-block slab-first-step"></div>
            <div class="d-inline-block slab-second-step"></div>
            <div class="d-inline-block slab-third-step"></div>
            <div class="d-inline-block slab-fourth-step"></div>
            <div class="d-inline-block slab-fifth-step"></div>
        </div>
        <div class="slab-password-strength-label">
            <div>{{ getPasswordComplexityAsLabel() }}</div>
        </div>
    </form>
</div>
<systelab-dialog-bottom>
    <button type="button" class="btn btn-sm ml-auto"
            [disabled]="!isOK()"
            (click)="changePassword()">{{ 'COMMON_SUBMIT' | translate | async}}
    </button>
</systelab-dialog-bottom>
